# Phase 2: å‡†å¤‡é˜¶æ®µ (Preparation Phase)

> åˆ›å»ºéš”ç¦»å¼€å‘ç¯å¢ƒï¼Œç”Ÿæˆè¯¦ç»†å¯æ‰§è¡Œçš„å®æ–½è®¡åˆ’ã€‚

---

## ç›®æ ‡

1. **éš”ç¦»ç¯å¢ƒ**: åˆ›å»ºç‹¬ç«‹å·¥ä½œåŒºï¼Œä¸å½±å“ä¸»åˆ†æ”¯
2. **éªŒè¯åŸºçº¿**: ç¡®ä¿ä»å¹²å‡€çŠ¶æ€å¼€å§‹
3. **è¯¦ç»†è®¡åˆ’**: å°†è®¾è®¡æ‹†åˆ†ä¸ºå¯æ‰§è¡Œçš„ä»»åŠ¡
4. **å‡†å¤‡å°±ç»ª**: ä¸º Phase 3 çš„å®æ–½åšå¥½ä¸€åˆ‡å‡†å¤‡

---

## æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     PHASE 2: PREPARATION                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                         â”‚
â”‚   è®¾è®¡æ–‡æ¡£å·²é€šè¿‡ Level 1 Gate                                             â”‚
â”‚       â†“                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ 2a. Environment Setup                                            â”‚  â”‚
â”‚   â”‚     ç¯å¢ƒå‡†å¤‡                                                      â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚                                                                 â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚
â”‚   â”‚  â”‚ 1. Detect   â”‚ â†’  â”‚ 2. Create   â”‚ â†’  â”‚ 3. Setup    â”‚         â”‚  â”‚
â”‚   â”‚  â”‚ Project     â”‚    â”‚ Worktree    â”‚    â”‚ Project     â”‚         â”‚  â”‚
â”‚   â”‚  â”‚ Type        â”‚    â”‚             â”‚    â”‚             â”‚         â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚
â”‚   â”‚         â†“                  â†“                  â†“                â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”‚  â”‚
â”‚   â”‚  â”‚ - Node.js?  â”‚    â”‚ - Location  â”‚    â”‚ - Install   â”‚         â”‚  â”‚
â”‚   â”‚  â”‚ - Python?   â”‚    â”‚ - Branch    â”‚    â”‚   deps      â”‚         â”‚  â”‚
â”‚   â”‚  â”‚ - Rust?     â”‚    â”‚ - Verify    â”‚    â”‚ - Build     â”‚         â”‚  â”‚
â”‚   â”‚  â”‚ - Go?       â”‚    â”‚   ignored   â”‚    â”‚   if needed â”‚         â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚  â”‚
â”‚   â”‚                                                                 â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚  â”‚
â”‚   â”‚  â”‚ 4. Verify   â”‚                                               â”‚  â”‚
â”‚   â”‚  â”‚ Baseline    â”‚                                               â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚  â”‚
â”‚   â”‚         â†“                                                       â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                               â”‚  â”‚
â”‚   â”‚  â”‚ - Run tests â”‚                                               â”‚  â”‚
â”‚   â”‚  â”‚ - All pass? â”‚                                               â”‚  â”‚
â”‚   â”‚  â”‚ - Report    â”‚                                               â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                               â”‚  â”‚
â”‚   â”‚                                                                 â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â†“                                                                 â”‚
â”‚   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚   â”‚ 2b. Plan Writing                                                 â”‚  â”‚
â”‚   â”‚     è®¡åˆ’ç¼–å†™                                                      â”‚  â”‚
â”‚   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚
â”‚   â”‚                                                                 â”‚  â”‚
â”‚   â”‚  Input: è®¾è®¡æ–‡æ¡£                                                  â”‚  â”‚
â”‚   â”‚       â†“                                                          â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚  â”‚
â”‚   â”‚  â”‚ 1. Analyze  â”‚                                                â”‚  â”‚
â”‚   â”‚  â”‚ Design Doc  â”‚                                                â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                â”‚  â”‚
â”‚   â”‚         â†“                                                        â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚  â”‚
â”‚   â”‚  â”‚ 2. Identify â”‚                                                â”‚  â”‚
â”‚   â”‚  â”‚ Components  â”‚                                                â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                â”‚  â”‚
â”‚   â”‚         â†“                                                        â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚  â”‚
â”‚   â”‚  â”‚ 3. Break    â”‚  â† 2-5 åˆ†é’Ÿç²’åº¦                                 â”‚  â”‚
â”‚   â”‚  â”‚ Into Tasks  â”‚                                                â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                â”‚  â”‚
â”‚   â”‚         â†“                                                        â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚  â”‚
â”‚   â”‚  â”‚ 4. Add      â”‚  â† ç²¾ç¡®è·¯å¾„                                     â”‚  â”‚
â”‚   â”‚  â”‚ Details     â”‚  â† å®Œæ•´ä»£ç                                      â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â† éªŒè¯æ­¥éª¤                                    â”‚  â”‚
â”‚   â”‚         â†“                                                        â”‚  â”‚
â”‚   â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                â”‚  â”‚
â”‚   â”‚  â”‚ 5. Order    â”‚                                                â”‚  â”‚
â”‚   â”‚  â”‚ & Link      â”‚                                                â”‚  â”‚
â”‚   â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜                                                â”‚  â”‚
â”‚   â”‚         â†“                                                        â”‚  â”‚
â”‚   â”‚  Output: docs/plans/xxx-plan.md                                  â”‚  â”‚
â”‚   â”‚                                                                 â”‚  â”‚
â”‚   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚       â†“                                                                 â”‚
â”‚   Level 2 Gate (è®¡åˆ’é—¨ç¦)                                                â”‚
â”‚   [æ£€æŸ¥æ¸…å•](quality-gates.md#level-2-è®¡åˆ’é—¨ç¦)                          â”‚
â”‚                                                                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2a. Environment Setup (ç¯å¢ƒå‡†å¤‡)

### Step 1: æ£€æµ‹é¡¹ç›®ç±»å‹

**æ£€æµ‹è„šæœ¬:**
```bash
# é¡¹ç›®ç±»å‹æ£€æµ‹
detect_project_type() {
  if [ -f "package.json" ]; then
    echo "nodejs"
    return
  fi
  if [ -f "Cargo.toml" ]; then
    echo "rust"
    return
  fi
  if [ -f "pyproject.toml" ] || [ -f "requirements.txt" ]; then
    echo "python"
    return
  fi
  if [ -f "go.mod" ]; then
    echo "go"
    return
  fi
  echo "unknown"
}
```

**å„ç±»å‹ç‰¹å¾:**

| ç±»å‹ | æ ‡è¯†æ–‡ä»¶ | ä¾èµ–æ–‡ä»¶ |
|------|---------|---------|
| Node.js | package.json | package-lock.json, yarn.lock, pnpm-lock.yaml |
| Python | pyproject.toml, requirements.txt | poetry.lock, Pipfile |
| Rust | Cargo.toml | Cargo.lock |
| Go | go.mod | go.sum |

### Step 2: åˆ›å»º Worktree

**ç›®å½•é€‰æ‹©ä¼˜å…ˆçº§:**
1. æ£€æŸ¥ç°æœ‰ `.worktrees/` ç›®å½•
2. æ£€æŸ¥ç°æœ‰ `worktrees/` ç›®å½•
3. æ£€æŸ¥ `CLAUDE.md` ä¸­çš„åå¥½
4. è¯¢é—®ç”¨æˆ·

**åˆ›å»ºå‘½ä»¤:**
```bash
# åˆ†æ”¯å‘½å
branch_name="feature/$(date +%Y-%m-%d)-$feature_name"

# åˆ›å»º worktree
git worktree add ".worktrees/$branch_name" -b "$branch_name"

# è¿›å…¥å·¥ä½œåŒº
cd ".worktrees/$branch_name"
```

**å®‰å…¨æ£€æŸ¥:**
```bash
# éªŒè¯ç›®å½•è¢« git å¿½ç•¥
git check-ignore -q ".worktrees" || {
  echo "é”™è¯¯: .worktrees æœªè¢« git å¿½ç•¥"
  echo "æ·»åŠ åˆ° .gitignore å¹¶æäº¤"
  exit 1
}
```

### Step 3: é¡¹ç›®è®¾ç½®

**æŒ‰é¡¹ç›®ç±»å‹è®¾ç½®:**

#### Node.js
```bash
if [ -f "package-lock.json" ]; then
  npm ci
elif [ -f "yarn.lock" ]; then
  yarn install --frozen-lockfile
elif [ -f "pnpm-lock.yaml" ]; then
  pnpm install --frozen-lockfile
else
  npm install
fi
```

#### Python
```bash
if [ -f "poetry.lock" ]; then
  poetry install
elif [ -f "Pipfile" ]; then
  pipenv install --dev
elif [ -f "requirements.txt" ]; then
  pip install -r requirements.txt
fi
```

#### Rust
```bash
cargo build
cargo test --no-run  # ç¼–è¯‘æµ‹è¯•ä½†ä¸è¿è¡Œ
```

#### Go
```bash
go mod download
go build ./...
```

### Step 4: éªŒè¯åŸºçº¿

**è¿è¡Œæµ‹è¯•:**
```bash
# Node.js
npm test

# Python
pytest

# Rust
cargo test

# Go
go test ./...
```

**é¢„æœŸç»“æœ:**
- æ‰€æœ‰ç°æœ‰æµ‹è¯•é€šè¿‡
- æ—  error
- æ—  warning (æˆ–å·²è§£é‡Š)

**å¤±è´¥å¤„ç†:**
```
å¦‚æœæµ‹è¯•å¤±è´¥:
1. æŠ¥å‘Šå¤±è´¥è¯¦æƒ…
2. è¯¢é—®ç”¨æˆ·æ˜¯å¦ç»§ç»­
3. è®°å½•åŸºçº¿çŠ¶æ€
```

### ç¯å¢ƒå‡†å¤‡å®ŒæˆæŠ¥å‘Š

```
ç¯å¢ƒå‡†å¤‡å®Œæˆ:

ğŸ“ å·¥ä½œåŒº: .worktrees/feature/2026-01-30-task-manager
ğŸŒ¿ åˆ†æ”¯: feature/2026-01-30-task-manager
ğŸ“¦ é¡¹ç›®ç±»å‹: Node.js
âœ… ä¾èµ–å®‰è£…: å®Œæˆ (245 packages)
âœ… åŸºçº¿æµ‹è¯•: é€šè¿‡ (47 tests, 0 failures)

ä¸‹ä¸€æ­¥: ç¼–å†™å®æ–½è®¡åˆ’
```

---

## 2b. Plan Writing (è®¡åˆ’ç¼–å†™)

### è¾“å…¥
- è®¾è®¡æ–‡æ¡£: `docs/plans/YYYY-MM-DD-feature-design.md`
- é¡¹ç›®ä¸Šä¸‹æ–‡

### è¾“å‡º
- è®¡åˆ’æ–‡æ¡£: `docs/plans/YYYY-MM-DD-feature-plan.md`

### æ­¥éª¤

#### Step 1: åˆ†æè®¾è®¡æ–‡æ¡£

**æå–ä¿¡æ¯:**
- ç›®æ ‡ (Goal)
- æ¶æ„ (Architecture)
- ç»„ä»¶åˆ—è¡¨ (Components)
- æ•°æ®æµ (Data Flow)
- é”™è¯¯åœºæ™¯ (Error Handling)

#### Step 2: è¯†åˆ«å®ç°ç»„ä»¶

**æŒ‰ä¾èµ–å…³ç³»æ’åº:**
```
æ•°æ®æ¨¡å‹ â†’ API æ¥å£ â†’ ä¸šåŠ¡é€»è¾‘ â†’ å‰ç«¯ç»„ä»¶
   â†“
åŸºç¡€ç»„ä»¶ â†’ å®¹å™¨ç»„ä»¶ â†’ é¡µé¢ç»„ä»¶
```

#### Step 3: æ‹†åˆ†ä¸ºä»»åŠ¡

**ä»»åŠ¡ç²’åº¦æ ‡å‡†: 2-5 åˆ†é’Ÿ**

**è¿‡å¤§çš„ä»»åŠ¡:**
- âŒ "å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ" (2+ å°æ—¶)
- âŒ "åˆ›å»ºæ‰€æœ‰ API ç«¯ç‚¹" (1+ å°æ—¶)
- âŒ "å®ç°å‰ç«¯é¡µé¢" (æ•°å°æ—¶)

**åˆé€‚çš„ä»»åŠ¡:**
- âœ… "åˆ›å»º User æ¨¡å‹"
- âœ… "å®ç°ç™»å½• API ç«¯ç‚¹"
- âœ… "åˆ›å»º LoginForm ç»„ä»¶"
- âœ… "æ·»åŠ é‚®ç®±éªŒè¯é€»è¾‘"

**æ‹†åˆ†ç¤ºä¾‹:**
```
åŸä»»åŠ¡: "å®ç°ç”¨æˆ·è®¤è¯ç³»ç»Ÿ" (å¤ªå¤§)

æ‹†åˆ†ä¸º:
- Task 1: åˆ›å»º User æ•°æ®æ¨¡å‹
- Task 2: å®ç°å¯†ç å“ˆå¸Œå·¥å…·
- Task 3: å®ç°æ³¨å†Œ API ç«¯ç‚¹
- Task 4: å®ç°ç™»å½• API ç«¯ç‚¹
- Task 5: å®ç° JWT ç”Ÿæˆ
- Task 6: å®ç°è®¤è¯ä¸­é—´ä»¶
- Task 7: åˆ›å»ºæ³¨å†Œè¡¨å•ç»„ä»¶
- Task 8: åˆ›å»ºç™»å½•è¡¨å•ç»„ä»¶
- Task 9: å®ç°å‰ç«¯è®¤è¯çŠ¶æ€ç®¡ç†
- Task 10: æ·»åŠ è·¯ç”±ä¿æŠ¤
```

#### Step 4: æ·»åŠ ä»»åŠ¡ç»†èŠ‚

**æ¯ä¸ªä»»åŠ¡å¿…é¡»åŒ…å«:**

```markdown
### Task N: [Task Name]

**Files:**
- Create: `exact/path/to/file.ts`
- Modify: `exact/path/to/existing.ts:10-20` (å¦‚éœ€è¦)
- Test: `tests/path/to/file.test.ts`

**Context:**
[åœºæ™¯è®¾ç½® - å¸®åŠ©å®ç°è€…ç†è§£ä¸Šä¸‹æ–‡]
ä¾‹å¦‚:
è¿™æ˜¯ç”¨æˆ·è®¤è¯ç³»ç»Ÿçš„ç¬¬ä¸€éƒ¨åˆ†ã€‚User æ¨¡å‹å°†è¢«åç»­çš„ 
AuthService ä½¿ç”¨ã€‚æ³¨æ„è¦ä½¿ç”¨ bcrypt è¿›è¡Œå¯†ç å“ˆå¸Œã€‚

**Steps:**

### Step 1: Write failing test
```typescript
// tests/models/user.test.ts
describe('User Model', () => {
  test('should create user with email and password', () => {
    const user = new User({
      email: 'test@example.com',
      password: 'hashedpassword'
    });
    
    expect(user.email).toBe('test@example.com');
    expect(user.password).toBe('hashedpassword');
  });
  
  test('should require email', () => {
    expect(() => new User({ password: 'pass' }))
      .toThrow('Email is required');
  });
});
```

### Step 2: Verify test fails
```bash
npm test user.test.ts
```
Expected: FAIL - "User is not defined"

### Step 3: Write minimal implementation
```typescript
// src/models/user.ts
export class User {
  email: string;
  password: string;
  
  constructor(data: { email: string; password: string }) {
    if (!data.email) {
      throw new Error('Email is required');
    }
    this.email = data.email;
    this.password = data.password;
  }
}
```

### Step 4: Verify test passes
```bash
npm test user.test.ts
```
Expected: PASS (2 tests)

### Step 5: Refactor (if needed)
[N/A - or specific refactoring instructions]

### Step 6: Commit
```bash
git add tests/models/user.test.ts src/models/user.ts
git commit -m "feat: add User model with validation"
```
```

#### Step 5: æ’åºå’Œé“¾æ¥

**ç¡®å®šä¾èµ–å…³ç³»:**
```
Task 1 (User Model)
    â†“
Task 2 (Auth Service)
    â†“
Task 3 (Login API)
    â†“
Task 4 (Login Form)
```

**æ ‡æ³¨ä¾èµ–:**
```markdown
### Task 3: Implement Login API

**Depends on:** Task 2 (Auth Service)
**Files:** ...
```

### è®¡åˆ’æ–‡æ¡£æ¨¡æ¿

```markdown
# [Feature Name] Implementation Plan

> **For Claude:** REQUIRED SUB-SKILL: Use subagent-driven-development
> **Based on:** [link to design doc]
> **Goal:** [One sentence]
> **Architecture:** [2-3 sentences]
> **Date:** YYYY-MM-DD

---

## Prerequisites

- [ ] Design approved: [link]
- [ ] Worktree ready: `.worktrees/xxx`
- [ ] Baseline tests passing

---

## Task Overview

| # | Task | Est. Time | Dependencies |
|---|------|-----------|--------------|
| 1 | [Task 1] | 3 min | - |
| 2 | [Task 2] | 4 min | Task 1 |
| 3 | [Task 3] | 5 min | Task 2 |
| ... | ... | ... | ... |

**Total Tasks:** N
**Estimated Time:** N minutes

---

## Tasks

### Task 1: [Name]

**Files:**
- Create: `path`
- Test: `path`

**Context:** ...

**Steps:** ...

---

### Task 2: [Name]

**Depends on:** Task X
**Files:** ...

**Context:** ...

**Steps:** ...

---

## Notes

- ç‰¹æ®Šæ³¨æ„äº‹é¡¹
- æŠ€æœ¯å†³ç­–è¯´æ˜
- é£é™©æé†’

---

## Post-Implementation

- [ ] All tasks completed
- [ ] All tests passing
- [ ] Documentation updated
```

---

## è´¨é‡é—¨ç¦ (Level 2)

è¯¦è§ [quality-gates.md#level-2-è®¡åˆ’é—¨ç¦](../quality-gates.md#level-2-è®¡åˆ’é—¨ç¦)

**å…³é”®æ£€æŸ¥ç‚¹:**
- [ ] ä»»åŠ¡ç²’åº¦ç¬¦åˆ 2-5 åˆ†é’Ÿæ ‡å‡†
- [ ] æ¯ä¸ªä»»åŠ¡æœ‰ç²¾ç¡®æ–‡ä»¶è·¯å¾„
- [ ] æ¯ä¸ªä»»åŠ¡æœ‰å®Œæ•´ä»£ç ç¤ºä¾‹
- [ ] æ¯ä¸ªä»»åŠ¡æœ‰éªŒè¯å‘½ä»¤

---

## ä¸ Superpowers çš„å¯¹åº”

| Vibe Coding | Superpowers | è¯´æ˜ |
|-------------|-------------|------|
| 2a. Environment Setup | using-git-worktrees skill | åˆ›å»ºéš”ç¦»å·¥ä½œåŒº |
| 2b. Plan Writing | writing-plans skill | ç”Ÿæˆè¯¦ç»†å®æ–½è®¡åˆ’ |

---

**æœ€åæ›´æ–°**: 2026-01-30
**ç‰ˆæœ¬**: v2.0
